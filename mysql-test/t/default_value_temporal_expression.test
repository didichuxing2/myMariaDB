#
# Column default value expression that includes a temporal function
#
# Tests the fix for MDEV-10355 Weird error message upon CREATE TABLE with DEFAULT
#

CREATE OR REPLACE TABLE t1 ( col INT DEFAULT ( 1 LIKE ( NOW() BETWEEN '2000-01-01' AND '2012-12-12' ) ) );
SHOW CREATE TABLE t1;

SET timestamp = UNIX_TIMESTAMP( '2004-04-04' );
INSERT INTO t1 VALUES( DEFAULT );
SET timestamp = DEFAULT;
INSERT INTO t1 VALUES( DEFAULT );

SELECT * FROM t1;

DROP TABLE t1;
